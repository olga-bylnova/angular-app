<ng-container>
    <div class="product-details" *ngIf="product$ | async as product">
        <div class="product-details-wrapper">
            <div class="product-img-wrapper">
                <img class="product-img" [src]="product.image" alt="Product Image">
            </div>
            <div class="product-details-main">
                <p class="product-title">{{product.title}}</p>
                <div class="product-rating-reviews">
                    <span class="product-rating">{{product.rating?.rate ?? 0}}<fa-icon [icon]="faStar"></fa-icon></span>
                    <span>({{product.rating?.count ?? 0}} reviews)</span>
                </div>
                <app-add-to-cart-button [isDisabled]="isOutOfStock" [product]="product" [cartItem]="cartItem"></app-add-to-cart-button>
                <div class="stockLabel">
                    <appStockLabel [stock]="product.stock"></appStockLabel>
                </div>
                <p>Price: <fa-icon [icon]="faDollarSign"></fa-icon>{{product.price ?? 0}}</p>
                <p class="product-description">{{product.description}}</p>
            </div>
        </div>
        <div class="product-reviews" *ngIf="reviews$ | async as reviews">
            <p>Customer reviews:</p>
            <app-customer-review *ngFor="let review of reviews" [review]="review"></app-customer-review>
            <span *ngIf="reviews.length === 0">Reviews for product not found</span>
        </div>
    </div>
    <div *ngIf="!(product$ | async)">
        Product not found
    </div>
</ng-container>